<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω—Ç–∏–±–æ—Ç–æ–∫—Å: –Ø–∫ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –º–æ–ª–æ–¥—ñ—Å—Ç—å</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- !!! –ë–Ü–ë–õ–Ü–û–¢–ï–ö–ê –î–õ–Ø –¢–ï–õ–ï–§–û–ù–Ü–í (CSS) !!! -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css">

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            scroll-behavior: smooth;
            background-color: #0b0d12;
            color: #ffffff;
        }
        
        /* –ê–Ω—ñ–º–∞—Ü—ñ—ó */
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .hidden-element { display: none !important; }
        
        .mobile-fixed-btn {
            position: fixed;
            bottom: 10px; 
            left: 50%;
            transform: translateX(-50%);
            width: 94%; 
            z-index: 50;
            box-shadow: 0 5px 20px rgba(225, 48, 48, 0.5); 
        }

        .play-button-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 20;
            pointer-events: none;
        }
        
        .play-btn-pulse {
            animation: pulse-red 2s infinite;
        }
        
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(225, 48, 48, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(225, 48, 48, 0); }
            100% { box-shadow: 0 0 0 0 rgba(225, 48, 48, 0); }
        }

        /* –°—Ç–∏–ª—ñ —ñ–Ω–ø—É—Ç—ñ–≤ */
        .custom-input {
            background-color: #1a1d26;
            border: 1px solid #2d323e;
            color: white;
            transition: all 0.3s ease;
            width: 100%;
        }
        .custom-input:focus {
            border-color: #E13030;
            box-shadow: 0 0 0 4px rgba(225, 48, 48, 0.1);
            outline: none;
        }

        /* --- –ê–î–ê–ü–¢–ê–¶–Ü–Ø –ë–Ü–ë–õ–Ü–û–¢–ï–ö–ò –¢–ï–õ–ï–§–û–ù–Ü–í –ü–Ü–î –¢–ï–ú–ù–ò–ô –°–¢–ò–õ–¨ --- */
        .iti { width: 100%; }
        .iti__country-list {
            background-color: #1a1d26;
            border: 1px solid #2d323e;
            color: white;
        }
        /* –ö–æ–ª—ñ—Ä –æ–±—Ä–∞–Ω–æ—ó –∫—Ä–∞—ó–Ω–∏ –≤ —Å–ø–∏—Å–∫—É */
        .iti__country.iti__highlight {
            background-color: #E13030; 
        }
        /* –°—Ç–∏–ª—å —Å–∞–º–æ–≥–æ –ø–æ–ª—è –≤–≤–æ–¥—É —Ç–µ–ª–µ—Ñ–æ–Ω—É */
        .iti__tel-input {
            background-color: #1a1d26 !important;
            border: 1px solid #2d323e !important;
            color: white !important;
            border-radius: 0.75rem !important; /* rounded-xl */
            padding-top: 1rem !important;
            padding-bottom: 1rem !important;
        }
        .iti__tel-input:focus {
            border-color: #E13030 !important;
            box-shadow: 0 0 0 4px rgba(225, 48, 48, 0.1) !important;
            outline: none !important;
        }

        .check-list li {
            position: relative;
            padding-left: 30px;
            margin-bottom: 14px;
            color: #d1d5db;
        }
        .check-list li::before {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            left: 0;
            top: 4px;
            color: #E13030;
            font-size: 1.1em;
        }
        
        .bonus-card {
            background: linear-gradient(145deg, #13161c 0%, #0f1116 100%);
            border: 1px solid #2d323e;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            DEFAULT: '#E13030',
                            hover: '#b91c1c',
                        },
                        dark: {
                            bg: '#0b0d12',
                            card: '#13161c',
                            border: '#2d323e'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen flex flex-col items-center overflow-x-hidden relative">

    <!-- –§–æ–Ω–æ–≤–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
    <div class="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
        <div class="absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-red-600/10 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-red-900/10 rounded-full blur-[100px]"></div>
    </div>

    <!-- ========================================== -->
    <!-- –ï–ö–†–ê–ù 1 -->
    <!-- ========================================== -->
    <div id="main-landing-screen" class="relative z-10 w-full flex flex-col items-center transition-opacity duration-500">
        
        <main class="w-full max-w-5xl px-4 py-8 md:py-16 flex flex-col items-center">
            
            <h1 class="text-3xl md:text-5xl lg:text-6xl font-extrabold text-center mb-6 leading-tight fade-in-up uppercase">
                –Ø–∫ –ø—Ä–∏–±—Ä–∞—Ç–∏ <span class="text-brand">–Ω–∞–±—Ä—è–∫–∏ —Ç–∞<br> –∑–º–æ—Ä—à–∫–∏</span> –∑–∞ 10 —Ö–≤–∏–ª–∏–Ω
            </h1>

            <!-- –í—ñ–¥–µ–æ -->
            <div class="w-full relative group fade-in-up max-w-4xl mb-12" style="animation-delay: 0.2s;">
                <div class="absolute -inset-1 bg-brand rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-500"></div>
                
                <div id="video-container" onclick="loadVideo()" class="relative w-full aspect-video bg-dark-card rounded-xl overflow-hidden shadow-2xl border border-dark-border cursor-pointer group">
                    <img id="video-thumbnail" src="https://img.youtube.com/vi/dTPuMrYxiCA/maxresdefault.jpg" alt="Video Thumbnail" class="w-full h-full object-cover opacity-90 group-hover:opacity-80 transition-all duration-300">
                    
                    <div id="play-btn" class="play-button-wrapper">
                        <div class="bg-brand text-white w-20 h-20 rounded-full flex items-center justify-center shadow-lg play-btn-pulse transition-transform transform group-hover:scale-110">
                            <i class="fa-solid fa-play text-3xl ml-1"></i>
                        </div>
                    </div>
                    
                    <div id="iframe-wrapper" class="w-full h-full absolute inset-0 hidden-element"></div>
                </div>
                
                <p class="mt-4 text-gray-500 text-xs text-center uppercase tracking-widest font-semibold">
                    <i class="fa-solid fa-volume-high text-brand mr-2"></i> –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É
                </p>
            </div>

            <!-- –ë–û–ù–£–°–ò -->
            <div id="cta-section" class="w-full max-w-4xl fade-in-up" style="animation-delay: 0.4s;">
                
                <div class="text-center mb-8">
                    <h2 class="text-2xl md:text-3xl font-bold uppercase text-white mb-2">
                        –ó–∞–±–∏—Ä–∞–π 3 –±–æ–Ω—É—Å–∏ <br class="md:hidden">–ø—ñ—Å–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —É—Ä–æ–∫—É üéÅ
                    </h2>
                    <p class="text-gray-400 text-sm md:text-base">
                        –Ø–∫—â–æ –∑–∞–ø–æ–≤–Ω–∏—à –∞–Ω–∫–µ—Ç—É <span class="text-brand font-bold">–ø—Ä—è–º–æ –∑–∞—Ä–∞–∑</span>, –æ—Ç—Ä–∏–º–∞—î—à:
                    </p>
                </div>

                <!-- –ë–æ–Ω—É—Å 1 -->
                <div class="bonus-card rounded-2xl p-6 md:p-8 mb-6 border-l-4 border-brand shadow-[0_10px_30px_rgba(0,0,0,0.3)] relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-5">
                        <i class="fa-solid fa-comments text-8xl text-white"></i>
                    </div>
                    
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="bg-brand/20 text-brand w-8 h-8 rounded-full flex items-center justify-center text-sm border border-brand/50">1</span>
                        –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è
                    </h3>
                    <p class="text-gray-400 text-sm mb-6 uppercase tracking-wider font-semibold border-b border-white/10 pb-2 inline-block">
                        –ø–æ –ø—Ä–∏—Ä–æ–¥–Ω—å–æ–º—É –æ–º–æ–ª–æ–¥–∂–µ–Ω–Ω—é
                    </p>

                    <ul class="check-list text-base leading-relaxed relative z-10">
                        <li><strong class="text-white">–†–æ–∑–±—ñ—Ä –≤–∞—à–æ—ó —Å–∏—Ç—É–∞—Ü—ñ—ó</strong> ‚Äî –∞–Ω–∞–ª—ñ–∑ –ø—Ä–∏—á–∏–Ω –Ω–∞–±—Ä—è–∫—ñ–≤, –∑–º–æ—Ä—à–æ–∫ —Ç–∞ –∑–º—ñ–Ω –æ–≤–∞–ª—É –æ–±–ª–∏—á—á—è.</li>
                        <li><strong class="text-white">–ú–µ—Ç–æ–¥–∏–∫–∞ "–ê–Ω—Ç–∏–±–æ—Ç–æ–∫—Å"</strong> ‚Äî —è–∫ –∑–∞ 20 —Ö–≤/–¥–µ–Ω—å –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫—Ä–∞—â–∏–π, –Ω—ñ–∂ –ø—ñ—Å–ª—è —É–∫–æ–ª—ñ–≤.</li>
                        <li><strong class="text-white">–†–µ–∞–ª—å–Ω—ñ –∫–µ–π—Å–∏</strong> ‚Äî –ø–æ–∫–∞–∂—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥—ñ–≤—á–∞—Ç –∑—ñ —Å—Ö–æ–∂–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏.</li>
                        <li><strong class="text-white">–ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω</strong> ‚Äî —è–∫ –ø—Ä–∏–π—Ç–∏ –¥–æ –ø—Ä—É–∂–Ω–æ—ó —à–∫—ñ—Ä–∏ –≤–∂–µ –∑–∞ 3-4 —Ç–∏–∂–Ω—ñ.</li>
                    </ul>
                </div>

                <!-- –ë–æ–Ω—É—Å–∏ 2 —Ç–∞ 3 -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                    <div class="bonus-card rounded-xl p-5 border border-white/5 flex items-start gap-4 hover:border-brand/30 transition-colors">
                        <div class="bg-white/5 text-brand w-10 h-10 rounded-lg flex items-center justify-center shrink-0">
                            <i class="fa-solid fa-sun text-lg"></i>
                        </div>
                        <div>
                            <div class="text-xs text-brand font-bold uppercase mb-1">–ë–æ–Ω—É—Å ‚Ññ2</div>
                            <h4 class="font-bold text-white text-lg leading-tight mb-1">–£—Ä–æ–∫ "–†–∞–Ω–∫–æ–≤–∞ —Ä—É—Ç–∏–Ω–∞"</h4>
                            <p class="text-gray-400 text-xs">3 –ø—Ä–æ—Å—Ç–∏—Ö –∫—Ä–æ–∫–∏ –¥–ª—è —Å–≤—ñ–∂–æ—Å—Ç—ñ –æ–±–ª–∏—á—á—è –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω.</p>
                        </div>
                    </div>

                    <div class="bonus-card rounded-xl p-5 border border-white/5 flex items-start gap-4 hover:border-brand/30 transition-colors">
                        <div class="bg-white/5 text-brand w-10 h-10 rounded-lg flex items-center justify-center shrink-0">
                            <i class="fa-solid fa-tag text-lg"></i>
                        </div>
                        <div>
                            <div class="text-xs text-brand font-bold uppercase mb-1">–ë–æ–Ω—É—Å ‚Ññ3</div>
                            <h4 class="font-bold text-white text-lg leading-tight mb-1">–ù–∞–π–≤–∏–≥—ñ–¥–Ω—ñ—à–∞ —Ü—ñ–Ω–∞</h4>
                            <p class="text-gray-400 text-xs">–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —É–º–æ–≤–∏ –Ω–∞ –∫—É—Ä—Å ¬´–ê–Ω—Ç–∏–±–æ—Ç–æ–∫—Å¬ª –¥–ª—è —É—á–∞—Å–Ω–∏–∫—ñ–≤.</p>
                        </div>
                    </div>
                </div>

                <div class="text-center mb-6">
                    <p class="text-white text-sm md:text-base font-medium animate-pulse flex flex-col items-center gap-2">
                        –ó–∞–ø–æ–≤–Ω—é–π —ñ –∑–æ–≤—Å—ñ–º —Å–∫–æ—Ä–æ –∑–≤ º—è–∂—É—Å—å –∑ —Ç–æ–±–æ—é üëá
                        <i class="fa-solid fa-chevron-down text-brand"></i>
                    </p>
                </div>

            </div>
        </main>

        <!-- –§–æ—Ä–º–∞ -->
        <section id="form-section" class="w-full bg-dark-card border-t border-dark-border py-12 relative">
            <div class="max-w-4xl mx-auto px-4">
                
                <div class="bg-[#0b0d12] p-6 md:p-10 rounded-2xl border border-dark-border shadow-2xl fade-in-up" style="animation-delay: 0.3s;">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-white mb-2 uppercase">–ê–Ω–∫–µ—Ç–∞ –∑–∞–ø–∏—Å—É</h2>
                        <div class="h-1 w-20 bg-brand rounded-full mx-auto"></div>
                    </div>

                    <form id="vsl-form" onsubmit="handleFormSubmit(event)" class="space-y-6">
                        <div>
                            <label class="block text-gray-500 text-xs font-bold uppercase tracking-wider mb-2 ml-1">–í–∞—à–µ —ñ–º'—è</label>
                            <div class="relative">
                                <i class="fa-regular fa-user absolute left-4 top-4 text-gray-500 z-10"></i>
                                <input type="text" name="name" required placeholder="–û–ª–µ–Ω–∞" class="custom-input rounded-xl py-4 pl-12 pr-4 focus:outline-none placeholder-gray-600">
                            </div>
                        </div>

                        <!-- –û–ù–û–í–õ–ï–ù–ò–ô –ë–õ–û–ö –¢–ï–õ–ï–§–û–ù–£ -->
                        <div>
                            <label class="block text-gray-500 text-xs font-bold uppercase tracking-wider mb-2 ml-1">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="phone" name="phone" required class="custom-input rounded-xl py-4 focus:outline-none placeholder-gray-600">
                            <input type="hidden" name="full_phone" id="full_phone">
                        </div>

                        <!-- –û–ù–û–í–õ–ï–ù–ò–ô –ë–õ–û–ö –¢–ï–õ–ï–ì–†–ê–ú -->
                        <div>
                            <label class="block text-gray-500 text-xs font-bold uppercase tracking-wider mb-2 ml-1">Telegram (@)</label>
                            <div class="relative">
                                <i class="fa-brands fa-telegram absolute left-4 top-4 text-gray-500 z-10"></i>
                                <input type="text" id="telegram-input" name="telegram" required placeholder="@nickname" class="custom-input rounded-xl py-4 pl-12 pr-4 focus:outline-none placeholder-gray-600">
                            </div>
                        </div>

                        <div>
                            <label class="block text-gray-500 text-xs font-bold uppercase tracking-wider mb-2 ml-1">–í–∞—à –∑–∞–ø–∏—Ç</label>
                            <textarea name="query" rows="2" placeholder="–•–æ—á—É –ø—Ä–∏–±—Ä–∞—Ç–∏ –Ω–æ—Å–æ–≥—É–±–∫—É..." class="w-full custom-input rounded-xl py-3 px-4 focus:outline-none placeholder-gray-600 resize-none"></textarea>
                        </div>

                        <button type="submit" class="w-full bg-brand hover:bg-brand-hover text-white font-bold py-5 rounded-xl shadow-lg shadow-red-900/20 transform active:scale-95 transition-all duration-200 mt-2 uppercase tracking-wide text-sm flex justify-center items-center gap-2">
                            <span>–ó–∞–±—Ä–∞—Ç–∏ –±–æ–Ω—É—Å–∏</span> <i class="fa-solid fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="md:hidden h-20"></div>
        </section>
        
        <button onclick="scrollToForm()" class="md:hidden mobile-fixed-btn bg-brand hover:bg-brand-hover text-white text-lg font-bold py-4 rounded-xl shadow-2xl border-t border-white/10 uppercase tracking-wide flex justify-center items-center">
            –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –∞–Ω–∫–µ—Ç—É <i class="fa-solid fa-pen ml-3"></i>
        </button>
    </div>

    <!-- –ï–ö–†–ê–ù 2 -->
    <div id="thank-you-screen" class="hidden-element relative z-20 w-full min-h-screen flex items-center justify-center p-4">
        <div class="max-w-md w-full bg-dark-card border border-dark-border rounded-3xl p-8 text-center shadow-2xl fade-in">
            <div class="w-24 h-24 mx-auto mb-6 rounded-full p-1 border-2 border-brand shadow-[0_0_30px_rgba(225,48,48,0.2)]">
                <img src="image_1.jpg" alt="Svitlana" class="w-full h-full rounded-full object-cover">
            </div>
            <div class="mb-8">
                <i class="fa-solid fa-check text-4xl text-brand mb-4"></i>
                <h2 class="text-3xl font-bold text-white mb-2 uppercase">–î—è–∫—É—î–º–æ!</h2>
                <p class="text-gray-400">–í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞.</p>
            </div>
            <div class="bg-[#0b0d12] rounded-xl p-6 mb-8 border border-dark-border text-left">
                <p class="text-brand text-xs font-bold uppercase mb-2">–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:</p>
                <p class="text-white text-sm leading-relaxed">
                    –ü–æ–∫–∏ —è –≤–∏–≤—á–∞—é –≤–∞—à—É –∞–Ω–∫–µ—Ç—É, –ø—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è –Ω–∞ –º—ñ–π Telegram-–∫–∞–Ω–∞–ª. –¢–∞–º —è –¥—ñ–ª—é—Å—è –ø–æ—Ä–∞–¥–∞–º–∏ –ø–æ —Ç–µ–π–ø—É–≤–∞–Ω–Ω—é —â–æ–¥–Ω—è.
                </p>
            </div>
            <a href="https://t.me/YOUR_TELEGRAM_LINK" target="_blank" class="block w-full bg-[#229ED9] hover:bg-[#1c8ec4] text-white text-lg font-bold py-4 rounded-xl shadow-lg transform hover:-translate-y-1 transition-all duration-300">
                <i class="fa-brands fa-telegram mr-2"></i> –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª
            </a>
            <p class="mt-6 text-xs text-gray-500">–°–∫–æ—Ä–æ –∑–≤'—è–∂–µ–º–æ—Å—å</p>
        </div>
    </div>

    <!-- !!! –°–ö–†–ò–ü–¢ –ë–Ü–ë–õ–Ü–û–¢–ï–ö–ò –¢–ï–õ–ï–§–û–ù–Ü–í !!! -->
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>

    <script>
        // ===== –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø SENDPULSE =====
        const SENDPULSE_CLIENT_ID = '4d53ff4cf63cb540d57bd7719ccf8101';
        const SENDPULSE_CLIENT_SECRET = '25097ed67a5f808df9ebaad67c996bfc';
        const BOT_ID = '690be870f92135eed801eff3';

        // ===== –û–¢–†–ò–ú–£–Ñ–ú–û TELEGRAM ID –ó URL =====
        let telegramChatId = null;

        // –°–ø—Ä–æ–±—É—î–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ?tg_id=
        const urlParams = new URLSearchParams(window.location.search);
        telegramChatId = urlParams.get('tg_id');

        // –Ø–∫—â–æ –Ω–µ–º–∞—î ‚Äî —à—É–∫–∞—î–º–æ –≤ —à–ª—è—Ö—É /tg_id=123
        if (!telegramChatId) {
            const path = window.location.pathname;
            const match = path.match(/tg_id=(\d+)/);
            if (match) {
                telegramChatId = match[1];
            }
        }

        // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ localStorage
        if (telegramChatId) {
            localStorage.setItem('tg_chat_id', telegramChatId);
            console.log('Telegram ID –∑–±–µ—Ä–µ–∂–µ–Ω–æ:', telegramChatId);
        }

        // ===== –§–£–ù–ö–¶–Ü–Ø –û–¢–†–ò–ú–ê–ù–ù–Ø –¢–û–ö–ï–ù–ê SENDPULSE =====
        async function getSendPulseToken() {
            const response = await fetch('https://api.sendpulse.com/oauth/access_token', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    grant_type: 'client_credentials',
                    client_id: SENDPULSE_CLIENT_ID,
                    client_secret: SENDPULSE_CLIENT_SECRET
                })
            });
            const data = await response.json();
            return data.access_token;
        }

        // ===== –§–£–ù–ö–¶–Ü–Ø –í–Ü–î–ú–Ü–¢–ö–ò –ê–ù–ö–ï–¢–ò –í SENDPULSE =====
        async function markAnketaFilled() {
            const chatId = localStorage.getItem('tg_chat_id');
            
            if (!chatId) {
                console.log('Telegram ID –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                return false;
            }
            
            try {
                const token = await getSendPulseToken();
                
                const response = await fetch('https://api.sendpulse.com/telegram/contacts/setVariable', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer ' + token,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        bot_id: BOT_ID,
                        contact_id: chatId,
                        variable_name: 'anketa_filled',
                        variable_value: 'yes'
                    })
                });
                
                const result = await response.json();
                console.log('SendPulse –≤—ñ–¥–ø–æ–≤—ñ–¥—å:', result);
                return true;
                
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞ SendPulse:', error);
                return false;
            }
        }

        // –ó–∞–ø—É—Å–∫ –≤—ñ–¥–µ–æ
        window.loadVideo = function() {
            const container = document.getElementById('video-container');
            const iframeWrapper = document.getElementById('iframe-wrapper');
            const playBtn = document.getElementById('play-btn');
            const thumbnail = document.getElementById('video-thumbnail');

            playBtn.style.display = 'none';
            thumbnail.style.display = 'none';
            
            iframeWrapper.innerHTML = `
                <iframe 
                    class="w-full h-full"
                    src="https://www.youtube.com/embed/dTPuMrYxiCA?autoplay=1&rel=0&showinfo=0&modestbranding=1" 
                    title="YouTube video player" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            `;
            iframeWrapper.classList.remove('hidden-element');
            container.onclick = null;
            container.classList.remove('cursor-pointer');
        }

        // –ó–º—ñ–Ω–Ω–∞ –¥–ª—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ (–≥–ª–æ–±–∞–ª—å–Ω–∞)
        let iti;

        document.addEventListener('DOMContentLoaded', () => {
            
            // --- 1. –í–ê–õ–Ü–î–ê–¶–Ü–Ø –¢–ï–õ–ï–§–û–ù–£ (–ê–í–¢–û–ú–ê–¢–ò–ß–ù–ê –ö–†–ê–á–ù–ê) ---
            const input = document.querySelector("#phone");
            iti = window.intlTelInput(input, {
                initialCountry: "auto",
                geoIpLookup: callback => {
                    fetch("https://ipapi.co/json")
                        .then(res => res.json())
                        .then(data => callback(data.country_code))
                        .catch(() => callback("ua"));
                },
                utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",
                separateDialCode: true,
            });

            // --- 2. –í–ê–õ–Ü–î–ê–¶–Ü–Ø TELEGRAM (–ê–í–¢–û–ú–ê–¢–ò–ß–ù–ò–ô @) ---
            const telegramInput = document.getElementById('telegram-input');
            telegramInput.addEventListener('input', function(e) {
                let value = e.target.value;
                if (value.length > 0 && !value.startsWith('@')) {
                    e.target.value = '@' + value;
                }
            });
            telegramInput.addEventListener('blur', function(e) {
                let value = e.target.value;
                if (value.length > 0 && !value.startsWith('@')) {
                    e.target.value = '@' + value;
                }
            });

            // --- 3. –°–¢–ê–ù–î–ê–†–¢–ù–ê –õ–û–ì–Ü–ö–ê –§–û–†–ú–ò ---
            const formSection = document.getElementById('form-section');
            const landingScreen = document.getElementById('main-landing-screen');
            const thankYouScreen = document.getElementById('thank-you-screen');

            window.scrollToForm = function() {
                formSection.scrollIntoView({ behavior: 'smooth' });
            };

            window.handleFormSubmit = async function(e) {
                e.preventDefault();
                
                // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ–≤–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –∑ –∫–æ–¥–æ–º –∫—Ä–∞—ó–Ω–∏
                const fullPhone = iti.getNumber();
                document.getElementById('full_phone').value = fullPhone;

                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ –Ω–æ–º–µ—Ä–∞
                if (!iti.isValidNumber()) {
                    alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É");
                    return;
                }

                const btn = e.target.querySelector('button[type="submit"]');
                btn.disabled = true;
                btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> –í—ñ–¥–ø—Ä–∞–≤–∫–∞...';
                btn.classList.add('opacity-75');

                // ===== –í–Ü–î–ú–Ü–ß–ê–Ñ–ú–û –í SENDPULSE =====
                await markAnketaFilled();

                setTimeout(() => {
                    landingScreen.style.opacity = '0';
                    setTimeout(() => {
                        landingScreen.classList.add('hidden-element');
                        thankYouScreen.classList.remove('hidden-element');
                        window.scrollTo(0, 0);
                    }, 500);
                }, 1500);
            };
        });
    </script>
</body>
</html>
